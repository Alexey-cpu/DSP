\hypertarget{_f_i_r_8h_source}{}\doxysection{FIR.\+h}
\label{_f_i_r_8h_source}\index{C:/Qt\_projects/DigitalFilters\_x32/include/FIR.h@{C:/Qt\_projects/DigitalFilters\_x32/include/FIR.h}}
\mbox{\hyperlink{_f_i_r_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#ifndef FIR\_H}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#define FIR\_H}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{preprocessor}{\#ifndef \_\_ALG\_PLATFORM}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <fstream>}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{18 }
\DoxyCodeLine{24 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{buffer_8h}{buffer.h}}"{}}}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{special__functions_8h}{special\_functions.h}}"{}}}
\DoxyCodeLine{26 }
\DoxyCodeLine{28 \textcolor{preprocessor}{\#ifndef \_\_fx32}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#define \_\_fx32 float}}
\DoxyCodeLine{30 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{31 }
\DoxyCodeLine{33 \textcolor{preprocessor}{\#ifndef \_\_fx64}}
\DoxyCodeLine{34 \textcolor{preprocessor}{\#define \_\_fx64 double}}
\DoxyCodeLine{35 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{36 }
\DoxyCodeLine{38 \textcolor{preprocessor}{\#ifndef \_\_fxx64}}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#define \_\_fxx64 long double}}
\DoxyCodeLine{40 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{41 }
\DoxyCodeLine{43 \textcolor{preprocessor}{\#ifndef \_\_ix32}}
\DoxyCodeLine{44 \textcolor{preprocessor}{\#define \_\_ix32 int}}
\DoxyCodeLine{45 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{46 }
\DoxyCodeLine{48 \textcolor{preprocessor}{\#ifndef PI0}}
\DoxyCodeLine{49 \textcolor{preprocessor}{\#define PI0 3.1415926535897932384626433832795}}
\DoxyCodeLine{50 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{51 }
\DoxyCodeLine{53 \textcolor{preprocessor}{\#ifndef PI2}}
\DoxyCodeLine{54 \textcolor{preprocessor}{\#define PI2 6.283185307179586476925286766559}}
\DoxyCodeLine{55 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{56 }
\DoxyCodeLine{58 \textcolor{preprocessor}{\#ifndef PI\_2}}
\DoxyCodeLine{59 \textcolor{preprocessor}{\#define PI\_2 1.5707963267948966192313216916398}}
\DoxyCodeLine{60 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{61 }
\DoxyCodeLine{63 \textcolor{preprocessor}{\#ifndef PI\_4}}
\DoxyCodeLine{64 \textcolor{preprocessor}{\#define PI\_4 0.78539816339744830961566084581988}}
\DoxyCodeLine{65 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{66 }
\DoxyCodeLine{74 \textcolor{keyword}{enum} \mbox{\hyperlink{group___f_i_r__fcn_gad02efad395f62a2b852f2aa0e1a91d1f}{fir\_type}} \{ lowpass\_fir  , highpass\_fir , bandpass\_fir , bandstop\_fir \};}
\DoxyCodeLine{75 }
\DoxyCodeLine{77 \textcolor{keyword}{template}< \textcolor{keyword}{typename} T > \textcolor{keyword}{struct }\mbox{\hyperlink{structfir__fr}{fir\_fr}};}
\DoxyCodeLine{78 }
\DoxyCodeLine{84 \textcolor{keyword}{template}<> \textcolor{keyword}{struct }\mbox{\hyperlink{structfir__fr}{fir\_fr}}< \mbox{\hyperlink{group___f_i_r__fcn_gabc3e3e3fbdd4de8d12c8a8e4057be945}{\_\_fx32}}  >\{ \mbox{\hyperlink{group___f_i_r__fcn_gabc3e3e3fbdd4de8d12c8a8e4057be945}{\_\_fx32}} Km , pH; \};}
\DoxyCodeLine{85 }
\DoxyCodeLine{91 \textcolor{keyword}{template}<> \textcolor{keyword}{struct }\mbox{\hyperlink{structfir__fr}{fir\_fr}}< \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}}  >\{ \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} Km , pH; \};}
\DoxyCodeLine{92 }
\DoxyCodeLine{98 \textcolor{keyword}{template}<> \textcolor{keyword}{struct }\mbox{\hyperlink{structfir__fr}{fir\_fr}}< \mbox{\hyperlink{group___f_i_r__fcn_ga3aacdef884931407dac0c8d6208e647b}{\_\_fxx64}} >\{ \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} Km , pH; \};}
\DoxyCodeLine{99 }
\DoxyCodeLine{111 \textcolor{keyword}{struct }\mbox{\hyperlink{structfir__sp}{fir\_sp}} \{ \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} Fs, Fn , Fc , BW , Ts ; \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} order , N , scale , type; \};}
\DoxyCodeLine{112 }
\DoxyCodeLine{124 \textcolor{keyword}{template}< \textcolor{keyword}{typename} OT , \textcolor{keyword}{typename} CT > \mbox{\hyperlink{structfir__fr}{fir\_fr<OT>}} \mbox{\hyperlink{group___f_i_r__fcn_ga4623470e2d8c995470f82368a5ca1628}{\_\_fir\_freq\_resp\_\_}}(  \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} Fs , \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} F , \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} order , CT *cfbuff )}
\DoxyCodeLine{125 \{}
\DoxyCodeLine{126     OT Re = 0 , Im = 0 , Ts = 1 / Fs;}
\DoxyCodeLine{127     \textcolor{keywordflow}{for} ( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} i = 0; i <= order; i++)}
\DoxyCodeLine{128     \{}
\DoxyCodeLine{129         Re = Re + cos(-\/\mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * i * F * Ts) * cfbuff[ i ];}
\DoxyCodeLine{130         Im = Im + sin(-\/\mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * i * F * Ts) * cfbuff[ i ];}
\DoxyCodeLine{131     \}}
\DoxyCodeLine{132     OT Km = sqrt (Re * Re + Im * Im) , pH = atan2( Im , Re );}
\DoxyCodeLine{133     \textcolor{keywordflow}{return} \{ Km , pH \};}
\DoxyCodeLine{134 \}}
\DoxyCodeLine{135 }
\DoxyCodeLine{174 \textcolor{keyword}{template}< \textcolor{keyword}{typename} T > T* \mbox{\hyperlink{group___f_i_r__fcn_gaa13e038a47db2603f93b5788e0f79879}{\_\_fir\_wind\_digital\_lp\_\_}}( \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} Fs , \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} Fc , \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} N , \textcolor{keywordtype}{bool} scale , \mbox{\hyperlink{classwind__fcn}{wind\_fcn}} \&wind )}
\DoxyCodeLine{175 \{}
\DoxyCodeLine{176     \textcolor{keyword}{typedef} T \_\_type;}
\DoxyCodeLine{177 }
\DoxyCodeLine{178     \textcolor{comment}{// check if the window is ready to use:}}
\DoxyCodeLine{179     \textcolor{keywordflow}{if} ( wind.\mbox{\hyperlink{classwind__fcn_ad71b3a4bf91eae2db01d060b8b2ff0c2}{is\_ready}}() == 0 ) wind.\mbox{\hyperlink{classwind__fcn_a0b84c65f589e9f9253c78fdb0b449948}{Chebyshev}}(100);}
\DoxyCodeLine{180 }
\DoxyCodeLine{181     \textcolor{comment}{// coefficients buffer memory allocation:}}
\DoxyCodeLine{182     \_\_type *cfbuff = ( \_\_type* ) calloc( N + 1 , \textcolor{keyword}{sizeof} ( \_\_type ) );}
\DoxyCodeLine{183 }
\DoxyCodeLine{184     \textcolor{comment}{// coefficients computation:}}
\DoxyCodeLine{185     \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} k = 0;}
\DoxyCodeLine{186     Fc /= Fs;}
\DoxyCodeLine{187 }
\DoxyCodeLine{188     \textcolor{keywordflow}{if} ( N \% 2 == 0) \textcolor{comment}{// even order filter coefficients computation}}
\DoxyCodeLine{189     \{}
\DoxyCodeLine{190         \textcolor{keywordflow}{for} ( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} n = 0; n <= N / 2; n++)}
\DoxyCodeLine{191         \{}
\DoxyCodeLine{192             k = abs(n -\/ (N + 1) / 2);}
\DoxyCodeLine{193             \textcolor{keywordflow}{if} (n == 0)}
\DoxyCodeLine{194             \{}
\DoxyCodeLine{195                 cfbuff[k] = 2 * Fc * wind[k];}
\DoxyCodeLine{196             \}}
\DoxyCodeLine{197             \textcolor{keywordflow}{else}}
\DoxyCodeLine{198             \{}
\DoxyCodeLine{199                 cfbuff[k] = 2 * Fc * sin(n * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fc ) / (n * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fc ) * wind[k];}
\DoxyCodeLine{200                 cfbuff[N -\/ k] = cfbuff[k];}
\DoxyCodeLine{201             \}}
\DoxyCodeLine{202         \}}
\DoxyCodeLine{203     \}}
\DoxyCodeLine{204     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( N \% 2 != 0) \textcolor{comment}{// odd order filter coefficients computation}}
\DoxyCodeLine{205     \{}
\DoxyCodeLine{206         \_\_type rem = ceil( (\_\_type)N / 2) -\/ (\_\_type)N / 2;}
\DoxyCodeLine{207         \textcolor{keywordflow}{for} ( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} n = 0; n <= ceil(N / 2); n++)}
\DoxyCodeLine{208         \{}
\DoxyCodeLine{209             k = abs(n -\/ N / 2);}
\DoxyCodeLine{210             cfbuff[k] = 2 * Fc * sin((n + rem) * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fc ) / ((n + rem) * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fc ) * wind[k];}
\DoxyCodeLine{211             cfbuff[ N -\/ k] = cfbuff[k];}
\DoxyCodeLine{212         \}}
\DoxyCodeLine{213     \}}
\DoxyCodeLine{214 }
\DoxyCodeLine{215     \textcolor{comment}{// filter pulse characteristic normalization:}}
\DoxyCodeLine{216     \textcolor{keywordflow}{if} ( scale )}
\DoxyCodeLine{217     \{}
\DoxyCodeLine{218         \mbox{\hyperlink{structfir__fr}{fir\_fr< \_\_type >}} fr = \_\_fir\_freq\_resp\_\_< \_\_type , \_\_type>( Fs , 0 , N , cfbuff );}
\DoxyCodeLine{219         \textcolor{keywordflow}{for} ( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} n = 0; n <= N; n++) cfbuff[n] /= fr.Km;}
\DoxyCodeLine{220     \}}
\DoxyCodeLine{221 }
\DoxyCodeLine{222     \textcolor{comment}{// deallocate the window function:}}
\DoxyCodeLine{223     wind.\mbox{\hyperlink{classwind__fcn_af2ef94171d3ebb655a22e3c16d6a316f}{deallocate}}();}
\DoxyCodeLine{224 }
\DoxyCodeLine{225     \textcolor{comment}{// returning the result}}
\DoxyCodeLine{226     \textcolor{keywordflow}{return} cfbuff;}
\DoxyCodeLine{227 \}}
\DoxyCodeLine{228 }
\DoxyCodeLine{269 \textcolor{keyword}{template}< \textcolor{keyword}{typename} T > T* \mbox{\hyperlink{group___f_i_r__fcn_ga627eaa7318627305ef3bc573f98bb33f}{\_\_fir\_wind\_digital\_hp\_\_}}( \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} Fs , \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} Fp , \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} N , \textcolor{keywordtype}{bool} scale , \mbox{\hyperlink{classwind__fcn}{wind\_fcn}} \&wind )}
\DoxyCodeLine{270 \{}
\DoxyCodeLine{271     \textcolor{keyword}{typedef} T \_\_type;}
\DoxyCodeLine{272 }
\DoxyCodeLine{273     \textcolor{comment}{// check if the window is ready to use:}}
\DoxyCodeLine{274     \textcolor{keywordflow}{if} ( wind.\mbox{\hyperlink{classwind__fcn_ad71b3a4bf91eae2db01d060b8b2ff0c2}{is\_ready}}() == 0 ) wind.\mbox{\hyperlink{classwind__fcn_a0b84c65f589e9f9253c78fdb0b449948}{Chebyshev}}(100);}
\DoxyCodeLine{275 }
\DoxyCodeLine{276     \textcolor{comment}{// coefficients buffer memory allocation:}}
\DoxyCodeLine{277     \_\_type *cfbuff = ( \_\_type* ) calloc( N + 1 , \textcolor{keyword}{sizeof} ( \_\_type ) );}
\DoxyCodeLine{278 }
\DoxyCodeLine{279     \textcolor{comment}{// coefficients computation:}}
\DoxyCodeLine{280     \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} k = 0;}
\DoxyCodeLine{281     Fp /= Fs;}
\DoxyCodeLine{282 }
\DoxyCodeLine{283     \textcolor{keywordflow}{if} ( N \% 2 == 0) \textcolor{comment}{// even order highpass}}
\DoxyCodeLine{284     \{}
\DoxyCodeLine{285         \textcolor{keywordflow}{for} ( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} n = 0; n <= N / 2; n++)}
\DoxyCodeLine{286         \{}
\DoxyCodeLine{287             k = abs(n -\/ ( N + 1) / 2);}
\DoxyCodeLine{288 }
\DoxyCodeLine{289             \textcolor{keywordflow}{if} (n == 0)}
\DoxyCodeLine{290             \{}
\DoxyCodeLine{291                 cfbuff[k] = (1 -\/ 2 * Fp) * wind[k];}
\DoxyCodeLine{292             \}}
\DoxyCodeLine{293             \textcolor{keywordflow}{else}}
\DoxyCodeLine{294             \{}
\DoxyCodeLine{295                 cfbuff[k] = -\/2 * Fp * sin(n * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fp ) / (n * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fp ) * wind[k];}
\DoxyCodeLine{296                 cfbuff[N -\/ k] = cfbuff[k];}
\DoxyCodeLine{297             \}}
\DoxyCodeLine{298         \}}
\DoxyCodeLine{299     \}}
\DoxyCodeLine{300     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N \% 2 != 0) \textcolor{comment}{// odd order highpass}}
\DoxyCodeLine{301     \{}
\DoxyCodeLine{302         \_\_type rem = ceil( (\_\_type)N / 2) -\/ (\_\_type)N / 2;}
\DoxyCodeLine{303         \textcolor{keywordflow}{for} ( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} n = 0; n <= ceil(N / 2); n++)}
\DoxyCodeLine{304         \{}
\DoxyCodeLine{305             k = abs(n -\/ N / 2);}
\DoxyCodeLine{306             cfbuff[k]     = -\/pow(-\/1 , n) * 2 * (0.5-\/Fp) * sin((n + rem) * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * (0.5-\/Fp) ) / ((n + rem) * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * (0.5 -\/ Fp) )* wind[k];}
\DoxyCodeLine{307             cfbuff[N -\/ k] = -\/cfbuff[k];}
\DoxyCodeLine{308         \}}
\DoxyCodeLine{309     \}}
\DoxyCodeLine{310 }
\DoxyCodeLine{311     \textcolor{comment}{// filter pulse characteristic scaling:}}
\DoxyCodeLine{312     \textcolor{keywordflow}{if} ( scale )}
\DoxyCodeLine{313     \{}
\DoxyCodeLine{314         \mbox{\hyperlink{structfir__fr}{fir\_fr< \_\_type >}} fr = \_\_fir\_freq\_resp\_\_< \_\_type , \_\_type >( Fs , Fs / 2 , N , cfbuff );}
\DoxyCodeLine{315         \textcolor{keywordflow}{for} ( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} n = 0; n <= N; n++) cfbuff[n] /= fr.Km;}
\DoxyCodeLine{316     \}}
\DoxyCodeLine{317 }
\DoxyCodeLine{318     \textcolor{comment}{// deallocate the window function:}}
\DoxyCodeLine{319     wind.\mbox{\hyperlink{classwind__fcn_af2ef94171d3ebb655a22e3c16d6a316f}{deallocate}}();}
\DoxyCodeLine{320 }
\DoxyCodeLine{321     \textcolor{comment}{// returning the result}}
\DoxyCodeLine{322     \textcolor{keywordflow}{return} cfbuff;}
\DoxyCodeLine{323 \}}
\DoxyCodeLine{324 }
\DoxyCodeLine{375 \textcolor{keyword}{template}< \textcolor{keyword}{typename} T > T* \mbox{\hyperlink{group___f_i_r__fcn_ga5384040ad3f20c65b4ee4defb778bff2}{\_\_fir\_wind\_digital\_bp\_\_}}( \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} Fs , \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} Fp , \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} BW , \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} N , \textcolor{keywordtype}{bool} scale , \mbox{\hyperlink{classwind__fcn}{wind\_fcn}} \&wind )}
\DoxyCodeLine{376 \{}
\DoxyCodeLine{377     \textcolor{keyword}{typedef} T \_\_type;}
\DoxyCodeLine{378 }
\DoxyCodeLine{379     \textcolor{comment}{// check if the window is ready to use:}}
\DoxyCodeLine{380     \textcolor{keywordflow}{if} ( wind.\mbox{\hyperlink{classwind__fcn_ad71b3a4bf91eae2db01d060b8b2ff0c2}{is\_ready}}() == 0 ) wind.\mbox{\hyperlink{classwind__fcn_a0b84c65f589e9f9253c78fdb0b449948}{Chebyshev}}(100);}
\DoxyCodeLine{381 }
\DoxyCodeLine{382     \textcolor{comment}{// coefficients buffer memory allocation:}}
\DoxyCodeLine{383     \_\_type *cfbuff = ( \_\_type* ) calloc( N + 1 , \textcolor{keyword}{sizeof} ( \_\_type ) );}
\DoxyCodeLine{384 }
\DoxyCodeLine{385     \textcolor{comment}{// coefficients computation:}}
\DoxyCodeLine{386     \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} k = 0;}
\DoxyCodeLine{387     \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} Fp1 = Fp / Fs , Fp2 = ( Fp + BW )/ Fs;}
\DoxyCodeLine{388 }
\DoxyCodeLine{389     \textcolor{keywordflow}{if} ( N \% 2 == 0) \textcolor{comment}{// even order bandpass}}
\DoxyCodeLine{390     \{}
\DoxyCodeLine{391         \textcolor{keywordflow}{for} ( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} n = 0; n <= N / 2; n++)}
\DoxyCodeLine{392         \{}
\DoxyCodeLine{393             k = abs(n -\/ ( N + 1) / 2);}
\DoxyCodeLine{394 }
\DoxyCodeLine{395             \textcolor{keywordflow}{if} (n == 0)}
\DoxyCodeLine{396             \{}
\DoxyCodeLine{397                 cfbuff[k] = 2 * ( Fp2 -\/ Fp1) * wind[k];}
\DoxyCodeLine{398             \}}
\DoxyCodeLine{399             \textcolor{keywordflow}{else}}
\DoxyCodeLine{400             \{}
\DoxyCodeLine{401                 cfbuff[k] = 2 * (Fp2 * sin(n * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fp2) / (n * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fp2) -\/ Fp1 * sin(n * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fp1) / (n * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fp1)) * wind[k];}
\DoxyCodeLine{402                 cfbuff[N -\/ k] = cfbuff[k];}
\DoxyCodeLine{403             \}}
\DoxyCodeLine{404         \}}
\DoxyCodeLine{405     \}}
\DoxyCodeLine{406     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (N \% 2 != 0) \textcolor{comment}{// odd order bandpass}}
\DoxyCodeLine{407     \{}
\DoxyCodeLine{408         \_\_type rem = ceil((\_\_type)N / 2) -\/ (\_\_type)N / 2;}
\DoxyCodeLine{409         \textcolor{keywordflow}{for} ( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} n = 0; n <= ceil(N / 2); n++)}
\DoxyCodeLine{410         \{}
\DoxyCodeLine{411             k = abs(n -\/ N / 2);}
\DoxyCodeLine{412             cfbuff[k] = 2 * (Fp2 * sin((n + rem) * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fp2) / ((n + rem) * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fp2) -\/ Fp1 * sin((n + rem) * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fp1) / ((n + rem) * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fp1)) * wind[k];}
\DoxyCodeLine{413             cfbuff[N -\/ k] = cfbuff[k];}
\DoxyCodeLine{414         \}}
\DoxyCodeLine{415     \}}
\DoxyCodeLine{416 }
\DoxyCodeLine{417     \textcolor{comment}{// filter pulse characteristic normalization:}}
\DoxyCodeLine{418     \textcolor{keywordflow}{if} ( scale )}
\DoxyCodeLine{419     \{}
\DoxyCodeLine{420         \mbox{\hyperlink{structfir__fr}{fir\_fr< \_\_type >}} fr = \_\_fir\_freq\_resp\_\_< \_\_type , \_\_type >( Fs , ( ( Fp1 + 0.5 * ( Fp2 -\/ Fp1 ) ) * Fs ) , N , cfbuff );}
\DoxyCodeLine{421         \textcolor{keywordflow}{for} ( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} n = 0; n <= N; n++) cfbuff[n] /= fr.Km;}
\DoxyCodeLine{422     \}}
\DoxyCodeLine{423 }
\DoxyCodeLine{424     \textcolor{comment}{// deallocate the window function:}}
\DoxyCodeLine{425     wind.\mbox{\hyperlink{classwind__fcn_af2ef94171d3ebb655a22e3c16d6a316f}{deallocate}}();}
\DoxyCodeLine{426 }
\DoxyCodeLine{427     \textcolor{comment}{// returning the result:}}
\DoxyCodeLine{428     \textcolor{keywordflow}{return} cfbuff;}
\DoxyCodeLine{429 \}}
\DoxyCodeLine{430 }
\DoxyCodeLine{461 \textcolor{keyword}{template}< \textcolor{keyword}{typename} T > T* \mbox{\hyperlink{group___f_i_r__fcn_gae9d7b63061301cb7da432fb13a5bed01}{\_\_fir\_wind\_digital\_bs\_\_}}( \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} Fs , \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} Fc , \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} BW , \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} N , \textcolor{keywordtype}{bool} scale , \mbox{\hyperlink{classwind__fcn}{wind\_fcn}} \&wind )}
\DoxyCodeLine{462 \{}
\DoxyCodeLine{463     \textcolor{keyword}{typedef} T \_\_type;}
\DoxyCodeLine{464 }
\DoxyCodeLine{465     \textcolor{comment}{// check if the window is ready to use:}}
\DoxyCodeLine{466     \textcolor{keywordflow}{if} ( wind.\mbox{\hyperlink{classwind__fcn_ad71b3a4bf91eae2db01d060b8b2ff0c2}{is\_ready}}() == 0 ) wind.\mbox{\hyperlink{classwind__fcn_a0b84c65f589e9f9253c78fdb0b449948}{Chebyshev}}(100);}
\DoxyCodeLine{467 }
\DoxyCodeLine{468     \textcolor{comment}{// coefficients buffer memory allocation:}}
\DoxyCodeLine{469     \_\_type *cfbuff = ( \_\_type* ) calloc( N + 1 , \textcolor{keyword}{sizeof} ( \_\_type ) );}
\DoxyCodeLine{470 }
\DoxyCodeLine{471     \textcolor{comment}{// coefficients computation:}}
\DoxyCodeLine{472     \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} k = 0;}
\DoxyCodeLine{473     \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} Fc1 = Fc / Fs , Fc2 = ( Fc + BW ) / Fs;}
\DoxyCodeLine{474 }
\DoxyCodeLine{475     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} n = 0; n <= N / 2; n++)}
\DoxyCodeLine{476     \{}
\DoxyCodeLine{477         k = abs(n -\/ ( N + 1) / 2);}
\DoxyCodeLine{478 }
\DoxyCodeLine{479         \textcolor{keywordflow}{if} (n == 0)}
\DoxyCodeLine{480         \{}
\DoxyCodeLine{481             cfbuff[k] = 1 -\/ 2 * ( Fc2 -\/ Fc1 ) * wind[k];}
\DoxyCodeLine{482         \}}
\DoxyCodeLine{483         \textcolor{keywordflow}{else}}
\DoxyCodeLine{484         \{}
\DoxyCodeLine{485             cfbuff[k] = 2 * ( Fc1 * sin(n * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fc1) / (n * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fc1 ) -\/ Fc2 * sin(n * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fc2) / (n * \mbox{\hyperlink{group___f_i_r__fcn_ga2750dfdda752269a036f487a4a34b849}{PI2}} * Fc2) ) * wind[k];}
\DoxyCodeLine{486             cfbuff[ N -\/ k] = cfbuff[k];}
\DoxyCodeLine{487         \}}
\DoxyCodeLine{488     \}}
\DoxyCodeLine{489 }
\DoxyCodeLine{490     \textcolor{comment}{// filter pulse characteristic normalization:}}
\DoxyCodeLine{491     \textcolor{keywordflow}{if} ( scale )}
\DoxyCodeLine{492     \{}
\DoxyCodeLine{493         \mbox{\hyperlink{structfir__fr}{fir\_fr< \_\_type >}} fr = \_\_fir\_freq\_resp\_\_< \_\_type , \_\_type >( Fs , 0 , N , cfbuff );}
\DoxyCodeLine{494         \textcolor{keywordflow}{for} ( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} n = 0; n <= N; n++) cfbuff[n] /= fr.Km;}
\DoxyCodeLine{495     \}}
\DoxyCodeLine{496 }
\DoxyCodeLine{497     \textcolor{comment}{// deallocate the window function:}}
\DoxyCodeLine{498     wind.\mbox{\hyperlink{classwind__fcn_af2ef94171d3ebb655a22e3c16d6a316f}{deallocate}}();}
\DoxyCodeLine{499 }
\DoxyCodeLine{500     \textcolor{comment}{// return the result:}}
\DoxyCodeLine{501     \textcolor{keywordflow}{return} cfbuff;}
\DoxyCodeLine{502 \}}
\DoxyCodeLine{503 }
\DoxyCodeLine{505 \textcolor{keyword}{template}< \textcolor{keyword}{typename} T > \textcolor{keyword}{class }\mbox{\hyperlink{classfir}{fir}};}
\DoxyCodeLine{506 }
\DoxyCodeLine{508 \textcolor{keyword}{template}<> \textcolor{keyword}{class }\mbox{\hyperlink{classfir}{fir}}<\mbox{\hyperlink{group___f_i_r__fcn_gabc3e3e3fbdd4de8d12c8a8e4057be945}{\_\_fx32}}>}
\DoxyCodeLine{509 \{}
\DoxyCodeLine{510     \textcolor{keyword}{typedef} \mbox{\hyperlink{group___f_i_r__fcn_gabc3e3e3fbdd4de8d12c8a8e4057be945}{\_\_fx32}} \_\_type ;}
\DoxyCodeLine{511     \textcolor{keyword}{typedef} \textcolor{keywordtype}{bool}   \_\_bool ;}
\DoxyCodeLine{512     \textcolor{keyword}{typedef} \textcolor{keywordtype}{void}   \_\_void ;}
\DoxyCodeLine{513 }
\DoxyCodeLine{515     \mbox{\hyperlink{structfir__sp}{fir\_sp}}  m\_sp;}
\DoxyCodeLine{516 }
\DoxyCodeLine{518     \_\_type *m\_cf;}
\DoxyCodeLine{519 }
\DoxyCodeLine{521     \mbox{\hyperlink{classmirror__ring__buffer}{mirror\_ring\_buffer< \_\_type >}} m\_bx;}
\DoxyCodeLine{522 }
\DoxyCodeLine{523 \textcolor{keyword}{public}:}
\DoxyCodeLine{524 }
\DoxyCodeLine{526     \_\_type \mbox{\hyperlink{classfir_3_01____fx32_01_4_a36011b51464fcbaafc15ff88f3999463}{m\_out}};}
\DoxyCodeLine{527 }
\DoxyCodeLine{529     \mbox{\hyperlink{classwind__fcn}{wind\_fcn}} \mbox{\hyperlink{classfir_3_01____fx32_01_4_a65ec596b10e8cfa67175d9574b6791dc}{m\_wind}};}
\DoxyCodeLine{530 }
\DoxyCodeLine{532     \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} \mbox{\hyperlink{classfir_3_01____fx32_01_4_abb94d7e39016af6f9a49ec0aaa7f24bf}{allocate}}()}
\DoxyCodeLine{533     \{}
\DoxyCodeLine{534         \textcolor{keywordflow}{switch} ( m\_sp.type )}
\DoxyCodeLine{535         \{}
\DoxyCodeLine{536             \textcolor{keywordflow}{case} fir\_type::lowpass\_fir:}
\DoxyCodeLine{537             m\_cf = \_\_fir\_wind\_digital\_lp\_\_< \_\_type >( m\_sp.Fs , m\_sp.Fc , m\_sp.order , m\_sp.scale , m\_wind );}
\DoxyCodeLine{538             \textcolor{keywordflow}{break};}
\DoxyCodeLine{539 }
\DoxyCodeLine{540             \textcolor{keywordflow}{case} fir\_type::highpass\_fir:}
\DoxyCodeLine{541             m\_cf = \_\_fir\_wind\_digital\_hp\_\_< \_\_type >( m\_sp.Fs , m\_sp.Fc , m\_sp.order , m\_sp.scale , m\_wind );}
\DoxyCodeLine{542             \textcolor{keywordflow}{break};}
\DoxyCodeLine{543 }
\DoxyCodeLine{544             \textcolor{keywordflow}{case} fir\_type::bandpass\_fir:}
\DoxyCodeLine{545             m\_cf = \_\_fir\_wind\_digital\_bp\_\_< \_\_type >( m\_sp.Fs , m\_sp.Fc , m\_sp.BW , m\_sp.order , m\_sp.scale , m\_wind );}
\DoxyCodeLine{546             \textcolor{keywordflow}{break};}
\DoxyCodeLine{547 }
\DoxyCodeLine{548             \textcolor{keywordflow}{case} fir\_type::bandstop\_fir:}
\DoxyCodeLine{549             m\_cf = \_\_fir\_wind\_digital\_bs\_\_< \_\_type >( m\_sp.Fs , m\_sp.Fc , m\_sp.BW , m\_sp.order , m\_sp.scale , m\_wind );}
\DoxyCodeLine{550             \textcolor{keywordflow}{break};}
\DoxyCodeLine{551         \}}
\DoxyCodeLine{552 }
\DoxyCodeLine{553         m\_bx.allocate( m\_sp.N + 1 );}
\DoxyCodeLine{554         \textcolor{keywordflow}{return} ( m\_cf != 0 );}
\DoxyCodeLine{555     \}}
\DoxyCodeLine{556 }
\DoxyCodeLine{558     \_\_void \mbox{\hyperlink{classfir_3_01____fx32_01_4_af485b812c32f00ea0da8d0a83c650d2a}{deallocate}}()}
\DoxyCodeLine{559     \{}
\DoxyCodeLine{560         \textcolor{keywordflow}{if}( m\_cf != 0 ) free( m\_cf );}
\DoxyCodeLine{561         m\_bx.deallocate();}
\DoxyCodeLine{562         m\_wind.\mbox{\hyperlink{classwind__fcn_af2ef94171d3ebb655a22e3c16d6a316f}{deallocate}}();}
\DoxyCodeLine{563     \}}
\DoxyCodeLine{564 }
\DoxyCodeLine{573     \_\_void \mbox{\hyperlink{classfir_3_01____fx32_01_4_a7505ff775812848fc7d2f3248e22cd29}{lp\_init}}( \_\_type Fs, \_\_type Fn, \_\_type Fc, \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} order , \_\_bool scale )}
\DoxyCodeLine{574     \{}
\DoxyCodeLine{575         m\_sp  = \mbox{\hyperlink{structfir__sp}{fir\_sp}}\{ Fs , Fn , Fc , -\/1 , 1 / Fs , order , order + 1 , scale , fir\_type::lowpass\_fir \};}
\DoxyCodeLine{576         m\_cf  = 0;}
\DoxyCodeLine{577         m\_out = 0;}
\DoxyCodeLine{578         m\_wind.\mbox{\hyperlink{classwind__fcn_a6deb4f700c93c94aff8e17194309cab7}{init}}( m\_sp.N );}
\DoxyCodeLine{579     \}}
\DoxyCodeLine{580 }
\DoxyCodeLine{589     \_\_void \mbox{\hyperlink{classfir_3_01____fx32_01_4_a0426a30f37968a1cb41fa40ea8090025}{hp\_init}}( \_\_type Fs, \_\_type Fn, \_\_type Fp , \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} order , \_\_bool scale )}
\DoxyCodeLine{590     \{}
\DoxyCodeLine{591         m\_sp  = \mbox{\hyperlink{structfir__sp}{fir\_sp}}\{ Fs , Fn , Fp , -\/1 , 1 / Fs , order , order + 1 , scale , fir\_type::highpass\_fir \};}
\DoxyCodeLine{592         m\_cf  = 0;}
\DoxyCodeLine{593         m\_out = 0;}
\DoxyCodeLine{594         m\_wind.\mbox{\hyperlink{classwind__fcn_a6deb4f700c93c94aff8e17194309cab7}{init}}( m\_sp.N );}
\DoxyCodeLine{595     \}}
\DoxyCodeLine{596 }
\DoxyCodeLine{606     \_\_void \mbox{\hyperlink{classfir_3_01____fx32_01_4_a5524592f5bbc985dbc30eb4ee667fe88}{bp\_init}}( \_\_type Fs, \_\_type Fn, \_\_type Fp , \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} BW , \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} order , \_\_bool scale )}
\DoxyCodeLine{607     \{}
\DoxyCodeLine{608         m\_sp  = \mbox{\hyperlink{structfir__sp}{fir\_sp}}\{ Fs , Fn , Fp , BW , 1 / Fs , order , order + 1 , scale , fir\_type::bandpass\_fir \};}
\DoxyCodeLine{609         m\_cf  = 0;}
\DoxyCodeLine{610         m\_out = 0;}
\DoxyCodeLine{611         m\_wind.\mbox{\hyperlink{classwind__fcn_a6deb4f700c93c94aff8e17194309cab7}{init}}( m\_sp.N );}
\DoxyCodeLine{612     \}}
\DoxyCodeLine{613 }
\DoxyCodeLine{623     \_\_void \mbox{\hyperlink{classfir_3_01____fx32_01_4_a51a697cb98cbe7f2a5337e0a4fced9a1}{bs\_init}}( \_\_type Fs, \_\_type Fn, \_\_type Fc , \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} BW , \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} order , \_\_bool scale )}
\DoxyCodeLine{624     \{}
\DoxyCodeLine{625         m\_sp  = \mbox{\hyperlink{structfir__sp}{fir\_sp}}\{ Fs , Fn , Fc , BW , 1 / Fs , order , order + 1 , scale , fir\_type::bandstop\_fir \};}
\DoxyCodeLine{626         m\_cf  = 0;}
\DoxyCodeLine{627         m\_out = 0;}
\DoxyCodeLine{628         m\_wind.\mbox{\hyperlink{classwind__fcn_a6deb4f700c93c94aff8e17194309cab7}{init}}( m\_sp.N );}
\DoxyCodeLine{629     \}}
\DoxyCodeLine{630 }
\DoxyCodeLine{632     \mbox{\hyperlink{classfir_3_01____fx32_01_4_a25f6e712c30bfc4ac3f3457624c74c42}{fir}}()}
\DoxyCodeLine{633     \{}
\DoxyCodeLine{634         m\_sp  = \mbox{\hyperlink{structfir__sp}{fir\_sp}}\{ 4000 , 50 , 100 , -\/1 , 1 / 4000 , 80 , 80 + 1 , 1 , fir\_type::lowpass\_fir \};}
\DoxyCodeLine{635         m\_cf  = 0;}
\DoxyCodeLine{636         m\_out = 0;}
\DoxyCodeLine{637         m\_wind.\mbox{\hyperlink{classwind__fcn_a6deb4f700c93c94aff8e17194309cab7}{init}}( m\_sp.N  );}
\DoxyCodeLine{638     \}}
\DoxyCodeLine{639 }
\DoxyCodeLine{641     \mbox{\hyperlink{classfir_3_01____fx32_01_4_a2a1cf5869f0c6bd078f1a607f6c71819}{\string~fir}}() \{ deallocate(); \}}
\DoxyCodeLine{642 }
\DoxyCodeLine{648     \textcolor{keyword}{inline} \mbox{\hyperlink{structfir__fr_3_01____fx64_01_4}{fir\_fr< \_\_fx64 >}} \mbox{\hyperlink{classfir_3_01____fx32_01_4_a1977b8908c7cb85a2c207617035840e2}{freq\_resp}}( \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} F ) \{ \textcolor{keywordflow}{return} \_\_fir\_freq\_resp\_\_< \_\_fx64 , \_\_type >( m\_sp.Fs , F , m\_sp.order , m\_cf ); \}}
\DoxyCodeLine{649 }
\DoxyCodeLine{655     \textcolor{keyword}{inline} \_\_type \mbox{\hyperlink{classfir_3_01____fx32_01_4_af1af3709df2de6ac81ac4cb5102b6602}{get\_coeff}}( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} n ) \{ \textcolor{keywordflow}{return} ( n <= m\_sp.order ) ? m\_cf[ n ] : 1e6; \}}
\DoxyCodeLine{656 }
\DoxyCodeLine{662     \textcolor{keyword}{inline} \_\_type \mbox{\hyperlink{classfir_3_01____fx32_01_4_ad2843e561dcefd53f1904c24c87608e1}{filt}}( \_\_type *input )}
\DoxyCodeLine{663     \{}
\DoxyCodeLine{664         m\_bx( input ); m\_out = 0;}
\DoxyCodeLine{665         \textcolor{keywordflow}{for} ( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} n = m\_sp.order ; n >= 0; n-\/-\/) m\_out += m\_bx[ n ] * m\_cf[n];}
\DoxyCodeLine{666         \textcolor{keywordflow}{return} m\_out;}
\DoxyCodeLine{667     \}}
\DoxyCodeLine{668 }
\DoxyCodeLine{673     \textcolor{keyword}{inline} \_\_type \mbox{\hyperlink{classfir_3_01____fx32_01_4_ab062dc85d1cc1d869dcbf92cdd00046e}{filt}}()}
\DoxyCodeLine{674     \{}
\DoxyCodeLine{675         m\_out = 0;}
\DoxyCodeLine{676         \textcolor{keywordflow}{for} ( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} n = m\_sp.order ; n >= 0; n-\/-\/) m\_out += m\_bx[ n ] * m\_cf[n];}
\DoxyCodeLine{677         \textcolor{keywordflow}{return} m\_out;}
\DoxyCodeLine{678     \}}
\DoxyCodeLine{679 }
\DoxyCodeLine{685     \textcolor{keyword}{inline} \_\_type operator() ( \_\_type *input ) \{ \textcolor{keywordflow}{return} filt( input ); \}}
\DoxyCodeLine{686 \};}
\DoxyCodeLine{687 }
\DoxyCodeLine{689 \textcolor{keyword}{template}<> \textcolor{keyword}{class }\mbox{\hyperlink{classfir}{fir}}<\mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}}>}
\DoxyCodeLine{690 \{}
\DoxyCodeLine{691     \textcolor{keyword}{typedef} \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} \_\_type ;}
\DoxyCodeLine{692     \textcolor{keyword}{typedef} \textcolor{keywordtype}{bool}   \_\_bool ;}
\DoxyCodeLine{693     \textcolor{keyword}{typedef} \textcolor{keywordtype}{void}   \_\_void ;}
\DoxyCodeLine{694 }
\DoxyCodeLine{696     \mbox{\hyperlink{structfir__sp}{fir\_sp}}  m\_sp;}
\DoxyCodeLine{697 }
\DoxyCodeLine{699     \_\_type *m\_cf;}
\DoxyCodeLine{700 }
\DoxyCodeLine{702     \mbox{\hyperlink{classmirror__ring__buffer}{mirror\_ring\_buffer< \_\_type >}} m\_bx;}
\DoxyCodeLine{703 }
\DoxyCodeLine{704 \textcolor{keyword}{public}:}
\DoxyCodeLine{705 }
\DoxyCodeLine{707     \_\_type \mbox{\hyperlink{classfir_3_01____fx64_01_4_a46a429de57bd8e6d20ddd10e7c9125b3}{m\_out}};}
\DoxyCodeLine{708 }
\DoxyCodeLine{710     \mbox{\hyperlink{classwind__fcn}{wind\_fcn}} \mbox{\hyperlink{classfir_3_01____fx64_01_4_ab2bcc32fcf24fb376ec6c72faa9785b0}{m\_wind}};}
\DoxyCodeLine{711 }
\DoxyCodeLine{713     \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} \mbox{\hyperlink{classfir_3_01____fx64_01_4_aef44f5a265dc93900850e7cf820d09e8}{allocate}}()}
\DoxyCodeLine{714     \{}
\DoxyCodeLine{715         \textcolor{keywordflow}{switch} ( m\_sp.type )}
\DoxyCodeLine{716         \{}
\DoxyCodeLine{717             \textcolor{keywordflow}{case} fir\_type::lowpass\_fir:}
\DoxyCodeLine{718             m\_cf = \_\_fir\_wind\_digital\_lp\_\_< \_\_type >( m\_sp.Fs , m\_sp.Fc , m\_sp.order , m\_sp.scale , m\_wind );}
\DoxyCodeLine{719             \textcolor{keywordflow}{break};}
\DoxyCodeLine{720 }
\DoxyCodeLine{721             \textcolor{keywordflow}{case} fir\_type::highpass\_fir:}
\DoxyCodeLine{722             m\_cf = \_\_fir\_wind\_digital\_hp\_\_< \_\_type >( m\_sp.Fs , m\_sp.Fc , m\_sp.order , m\_sp.scale , m\_wind );}
\DoxyCodeLine{723             \textcolor{keywordflow}{break};}
\DoxyCodeLine{724 }
\DoxyCodeLine{725             \textcolor{keywordflow}{case} fir\_type::bandpass\_fir:}
\DoxyCodeLine{726             m\_cf = \_\_fir\_wind\_digital\_bp\_\_< \_\_type >( m\_sp.Fs , m\_sp.Fc , m\_sp.BW , m\_sp.order , m\_sp.scale , m\_wind );}
\DoxyCodeLine{727             \textcolor{keywordflow}{break};}
\DoxyCodeLine{728 }
\DoxyCodeLine{729             \textcolor{keywordflow}{case} fir\_type::bandstop\_fir:}
\DoxyCodeLine{730             m\_cf = \_\_fir\_wind\_digital\_bs\_\_< \_\_type >( m\_sp.Fs , m\_sp.Fc , m\_sp.BW , m\_sp.order , m\_sp.scale , m\_wind );}
\DoxyCodeLine{731             \textcolor{keywordflow}{break};}
\DoxyCodeLine{732         \}}
\DoxyCodeLine{733 }
\DoxyCodeLine{734         m\_bx.allocate( m\_sp.N + 1 );}
\DoxyCodeLine{735         \textcolor{keywordflow}{return} ( m\_cf != 0 );}
\DoxyCodeLine{736     \}}
\DoxyCodeLine{737 }
\DoxyCodeLine{739     \_\_void \mbox{\hyperlink{classfir_3_01____fx64_01_4_a6ec4e2beafd5f463d48e2131e185b1a4}{deallocate}}()}
\DoxyCodeLine{740     \{}
\DoxyCodeLine{741         \textcolor{keywordflow}{if}( m\_cf != 0 ) free( m\_cf );}
\DoxyCodeLine{742         m\_bx.deallocate();}
\DoxyCodeLine{743         m\_wind.\mbox{\hyperlink{classwind__fcn_af2ef94171d3ebb655a22e3c16d6a316f}{deallocate}}();}
\DoxyCodeLine{744     \}}
\DoxyCodeLine{745 }
\DoxyCodeLine{754     \_\_void \mbox{\hyperlink{classfir_3_01____fx64_01_4_a7a88c461b8deb9f6c61afd896206a9ef}{lp\_init}}( \_\_type Fs, \_\_type Fn, \_\_type Fc, \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} order , \_\_bool scale )}
\DoxyCodeLine{755     \{}
\DoxyCodeLine{756         m\_sp  = \mbox{\hyperlink{structfir__sp}{fir\_sp}}\{ Fs , Fn , Fc , -\/1 , 1 / Fs , order , order + 1 , scale , fir\_type::lowpass\_fir \};}
\DoxyCodeLine{757         m\_cf  = 0;}
\DoxyCodeLine{758         m\_out = 0;}
\DoxyCodeLine{759         m\_wind.\mbox{\hyperlink{classwind__fcn_a6deb4f700c93c94aff8e17194309cab7}{init}}( m\_sp.N );}
\DoxyCodeLine{760     \}}
\DoxyCodeLine{761 }
\DoxyCodeLine{770     \_\_void \mbox{\hyperlink{classfir_3_01____fx64_01_4_a97014dd31fc0e6952fccd1bd74d2a014}{hp\_init}}( \_\_type Fs, \_\_type Fn, \_\_type Fp , \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} order , \_\_bool scale )}
\DoxyCodeLine{771     \{}
\DoxyCodeLine{772         m\_sp  = \mbox{\hyperlink{structfir__sp}{fir\_sp}}\{ Fs , Fn , Fp , -\/1 , 1 / Fs , order , order + 1 , scale , fir\_type::highpass\_fir \};}
\DoxyCodeLine{773         m\_cf  = 0;}
\DoxyCodeLine{774         m\_out = 0;}
\DoxyCodeLine{775         m\_wind.\mbox{\hyperlink{classwind__fcn_a6deb4f700c93c94aff8e17194309cab7}{init}}( m\_sp.N );}
\DoxyCodeLine{776     \}}
\DoxyCodeLine{777 }
\DoxyCodeLine{787     \_\_void \mbox{\hyperlink{classfir_3_01____fx64_01_4_afa596d5037684121c3423913a57e021f}{bp\_init}}( \_\_type Fs, \_\_type Fn, \_\_type Fp , \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} BW , \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} order , \_\_bool scale )}
\DoxyCodeLine{788     \{}
\DoxyCodeLine{789         m\_sp  = \mbox{\hyperlink{structfir__sp}{fir\_sp}}\{ Fs , Fn , Fp , BW , 1 / Fs , order , order + 1 , scale , fir\_type::bandpass\_fir \};}
\DoxyCodeLine{790         m\_cf  = 0;}
\DoxyCodeLine{791         m\_out = 0;}
\DoxyCodeLine{792         m\_wind.\mbox{\hyperlink{classwind__fcn_a6deb4f700c93c94aff8e17194309cab7}{init}}( m\_sp.N );}
\DoxyCodeLine{793     \}}
\DoxyCodeLine{794 }
\DoxyCodeLine{804     \_\_void \mbox{\hyperlink{classfir_3_01____fx64_01_4_a747026e8031757a1a266f636d868e2f7}{bs\_init}}( \_\_type Fs, \_\_type Fn, \_\_type Fc , \mbox{\hyperlink{group___f_i_r__fcn_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} BW , \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} order , \_\_bool scale )}
\DoxyCodeLine{805     \{}
\DoxyCodeLine{806         m\_sp  = \mbox{\hyperlink{structfir__sp}{fir\_sp}}\{ Fs , Fn , Fc , BW , 1 / Fs , order , order + 1 , scale , fir\_type::bandstop\_fir \};}
\DoxyCodeLine{807         m\_cf  = 0;}
\DoxyCodeLine{808         m\_out = 0;}
\DoxyCodeLine{809         m\_wind.\mbox{\hyperlink{classwind__fcn_a6deb4f700c93c94aff8e17194309cab7}{init}}( m\_sp.N );}
\DoxyCodeLine{810     \}}
\DoxyCodeLine{811 }
\DoxyCodeLine{813     \mbox{\hyperlink{classfir_3_01____fx64_01_4_ac9f6f26a8658b6f27b4a1f1a5ee822a3}{fir}}()}
\DoxyCodeLine{814     \{}
\DoxyCodeLine{815         m\_sp  = \mbox{\hyperlink{structfir__sp}{fir\_sp}}\{ 4000 , 50 , 100 , -\/1 , 1 / 4000 , 80 , 80 + 1 , 1 , fir\_type::lowpass\_fir \};}
\DoxyCodeLine{816         m\_cf  = 0;}
\DoxyCodeLine{817         m\_out = 0;}
\DoxyCodeLine{818         m\_wind.\mbox{\hyperlink{classwind__fcn_a6deb4f700c93c94aff8e17194309cab7}{init}}( m\_sp.N  );}
\DoxyCodeLine{819     \}}
\DoxyCodeLine{820 }
\DoxyCodeLine{822     \mbox{\hyperlink{classfir_3_01____fx64_01_4_a858370746fe7d285a1b292e73e01c5f6}{\string~fir}}() \{ deallocate(); \}}
\DoxyCodeLine{823 }
\DoxyCodeLine{829     \textcolor{keyword}{inline} \mbox{\hyperlink{structfir__fr_3_01____fx64_01_4}{fir\_fr< \_\_fx64 >}} \mbox{\hyperlink{classfir_3_01____fx64_01_4_ae2597d2d10fd3fedce8f6c239a25b50d}{freq\_resp}}( \_\_type F ) \{ \textcolor{keywordflow}{return} \_\_fir\_freq\_resp\_\_< \_\_fx64 , \_\_type >( m\_sp.Fs , F , m\_sp.order , m\_cf ); \}}
\DoxyCodeLine{830 }
\DoxyCodeLine{836     \textcolor{keyword}{inline} \_\_type \mbox{\hyperlink{classfir_3_01____fx64_01_4_a6677adccb1c949b4ced59780014f2d51}{get\_coeff}}( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} n ) \{ \textcolor{keywordflow}{return} ( n <= m\_sp.order ) ? m\_cf[ n ] : 1e6; \}}
\DoxyCodeLine{837 }
\DoxyCodeLine{843     \textcolor{keyword}{inline} \_\_type \mbox{\hyperlink{classfir_3_01____fx64_01_4_aa20a571d560292a73189210e4a42525d}{filt}}( \_\_type *input )}
\DoxyCodeLine{844     \{}
\DoxyCodeLine{845         m\_bx( input ); m\_out = 0;}
\DoxyCodeLine{846         \textcolor{keywordflow}{for} ( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} n = m\_sp.order ; n >= 0; n-\/-\/) m\_out += m\_bx[ n ] * m\_cf[n];}
\DoxyCodeLine{847         \textcolor{keywordflow}{return} m\_out;}
\DoxyCodeLine{848     \}}
\DoxyCodeLine{849 }
\DoxyCodeLine{854     \textcolor{keyword}{inline} \_\_type \mbox{\hyperlink{classfir_3_01____fx64_01_4_abe7b5e11a41f940487c56a42a20a0e35}{filt}}()}
\DoxyCodeLine{855     \{}
\DoxyCodeLine{856         m\_out = 0;}
\DoxyCodeLine{857         \textcolor{keywordflow}{for} ( \mbox{\hyperlink{group___f_i_r__fcn_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} n = m\_sp.order ; n >= 0; n-\/-\/) m\_out += m\_bx[ n ] * m\_cf[n];}
\DoxyCodeLine{858         \textcolor{keywordflow}{return} m\_out;}
\DoxyCodeLine{859     \}}
\DoxyCodeLine{860 }
\DoxyCodeLine{866     \textcolor{keyword}{inline} \_\_type operator() ( \_\_type *input ) \{ \textcolor{keywordflow}{return} filt( input ); \}}
\DoxyCodeLine{867 \};}
\DoxyCodeLine{868 }
\DoxyCodeLine{871 \textcolor{preprocessor}{\#undef \_\_fx32}}
\DoxyCodeLine{872 \textcolor{preprocessor}{\#undef \_\_fx64}}
\DoxyCodeLine{873 \textcolor{preprocessor}{\#undef \_\_ix32}}
\DoxyCodeLine{874 }
\DoxyCodeLine{875 \textcolor{comment}{// customized pi undef:}}
\DoxyCodeLine{876 \textcolor{preprocessor}{\#undef PI0}}
\DoxyCodeLine{877 \textcolor{preprocessor}{\#undef PI2}}
\DoxyCodeLine{878 \textcolor{preprocessor}{\#undef PI\_2}}
\DoxyCodeLine{879 \textcolor{preprocessor}{\#undef PI\_4}}
\DoxyCodeLine{880 }
\DoxyCodeLine{881 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
