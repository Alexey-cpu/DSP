\hypertarget{recursive__fourier_8h_source}{}\doxysection{recursive\+\_\+fourier.\+h}
\label{recursive__fourier_8h_source}\index{C:/Qt\_projects/DigitalFilters\_x32/include/recursive\_fourier.h@{C:/Qt\_projects/DigitalFilters\_x32/include/recursive\_fourier.h}}
\mbox{\hyperlink{recursive__fourier_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#ifndef RECURSIVE\_FOURIER\_H}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#define RECURSIVE\_FOURIER\_H}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#ifndef \_\_ALG\_PLATFORM }\textcolor{comment}{// identify if the compilation is for ProsoftSystems IDE}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}cmath"{}}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{18 }
\DoxyCodeLine{24 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{buffer_8h}{buffer.h}}"{}}}
\DoxyCodeLine{25 }
\DoxyCodeLine{27 \textcolor{preprocessor}{\#ifndef \_\_ix16}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#define \_\_ix16 short}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{30 }
\DoxyCodeLine{32 \textcolor{preprocessor}{\#ifndef \_\_ix32}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#define \_\_ix32 int}}
\DoxyCodeLine{34 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{35 }
\DoxyCodeLine{37 \textcolor{preprocessor}{\#ifndef \_\_ix64}}
\DoxyCodeLine{38 \textcolor{preprocessor}{\#define \_\_ix64 long long}}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{40 }
\DoxyCodeLine{42 \textcolor{preprocessor}{\#ifndef \_\_uix16}}
\DoxyCodeLine{43 \textcolor{preprocessor}{\#define \_\_uix16 unsigned short}}
\DoxyCodeLine{44 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{45 }
\DoxyCodeLine{47 \textcolor{preprocessor}{\#ifndef \_\_uix32}}
\DoxyCodeLine{48 \textcolor{preprocessor}{\#define \_\_uix32 unsigned int}}
\DoxyCodeLine{49 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{50 }
\DoxyCodeLine{52 \textcolor{preprocessor}{\#ifndef \_\_uix64}}
\DoxyCodeLine{53 \textcolor{preprocessor}{\#define \_\_uix64 unsigned long long}}
\DoxyCodeLine{54 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{55 }
\DoxyCodeLine{57 \textcolor{preprocessor}{\#ifndef \_\_fx32}}
\DoxyCodeLine{58 \textcolor{preprocessor}{\#define \_\_fx32 float}}
\DoxyCodeLine{59 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{60 }
\DoxyCodeLine{62 \textcolor{preprocessor}{\#ifndef \_\_fx64}}
\DoxyCodeLine{63 \textcolor{preprocessor}{\#define \_\_fx64 double}}
\DoxyCodeLine{64 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{65 }
\DoxyCodeLine{67 \textcolor{preprocessor}{\#ifndef PI0 }\textcolor{comment}{// PI}}
\DoxyCodeLine{68 \textcolor{preprocessor}{\#define PI0 3.1415926535897932384626433832795}}
\DoxyCodeLine{69 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{70 }
\DoxyCodeLine{72 \textcolor{preprocessor}{\#ifndef PI2 }\textcolor{comment}{// 2*PI}}
\DoxyCodeLine{73 \textcolor{preprocessor}{\#define PI2 6.283185307179586476925286766559}}
\DoxyCodeLine{74 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{75 }
\DoxyCodeLine{77 \textcolor{keyword}{template}< \textcolor{keyword}{typename} T > \textcolor{keyword}{class }\mbox{\hyperlink{classrecursive__fourier}{recursive\_fourier}};}
\DoxyCodeLine{78 }
\DoxyCodeLine{79 \textcolor{comment}{// Recursive Fourier implementations:}}
\DoxyCodeLine{80 }
\DoxyCodeLine{82 \textcolor{keyword}{template}<> \textcolor{keyword}{class }\mbox{\hyperlink{classrecursive__fourier}{recursive\_fourier}}<\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_gabc3e3e3fbdd4de8d12c8a8e4057be945}{\_\_fx32}}>}
\DoxyCodeLine{83 \{}
\DoxyCodeLine{84     \textcolor{keyword}{typedef} \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_gabc3e3e3fbdd4de8d12c8a8e4057be945}{\_\_fx32}} \_\_type;}
\DoxyCodeLine{85 }
\DoxyCodeLine{86 \textcolor{keyword}{private}:}
\DoxyCodeLine{88     \_\_type m\_Fn;}
\DoxyCodeLine{90     \_\_type m\_Fs;}
\DoxyCodeLine{92     \_\_type m\_Ts;}
\DoxyCodeLine{94     \_\_type m\_Gain;}
\DoxyCodeLine{96     \_\_type m\_Ns;}
\DoxyCodeLine{98     \_\_type m\_hnum;}
\DoxyCodeLine{100     \_\_type m\_a0;}
\DoxyCodeLine{102     \_\_type m\_Ks;}
\DoxyCodeLine{104     \_\_type m\_Kc;}
\DoxyCodeLine{106     \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} m\_order;}
\DoxyCodeLine{107 }
\DoxyCodeLine{109     \mbox{\hyperlink{classmirror__ring__buffer}{mirror\_ring\_buffer<\_\_type>}} m\_buffer\_sx;}
\DoxyCodeLine{110 }
\DoxyCodeLine{111 \textcolor{keyword}{public}:}
\DoxyCodeLine{113     \_\_type \mbox{\hyperlink{classrecursive__fourier_3_01____fx32_01_4_aa007c2c206a29ae6061a3e679fe2677e}{m\_a}};}
\DoxyCodeLine{115     \_\_type \mbox{\hyperlink{classrecursive__fourier_3_01____fx32_01_4_a73bbd6c2d8d75c54b3c999c643d86e05}{m\_b}};}
\DoxyCodeLine{117     \_\_type \mbox{\hyperlink{classrecursive__fourier_3_01____fx32_01_4_a73e16c47a3b67a9488113fc8a9602641}{m\_Km}};}
\DoxyCodeLine{119     \_\_type \mbox{\hyperlink{classrecursive__fourier_3_01____fx32_01_4_aa50b51aa9e380e02b8819cc0b585bec0}{m\_pH}};}
\DoxyCodeLine{120 }
\DoxyCodeLine{124     \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}}  \mbox{\hyperlink{classrecursive__fourier_3_01____fx32_01_4_a1d87015649c4ec92b55394c9e6903b6f}{allocate}}() \{ \textcolor{keywordflow}{return} ( m\_buffer\_sx.allocate( m\_order + 2 ) ); \}}
\DoxyCodeLine{125 }
\DoxyCodeLine{129     \textcolor{keywordtype}{void} \mbox{\hyperlink{classrecursive__fourier_3_01____fx32_01_4_a12316239f6fcfd0fb88abb643825c608}{deallocate}}() \{ m\_buffer\_sx.deallocate(); \}}
\DoxyCodeLine{130 }
\DoxyCodeLine{137     \textcolor{keywordtype}{void} \mbox{\hyperlink{classrecursive__fourier_3_01____fx32_01_4_a8f299f81df1ef8882a7b490f7004ffeb}{init}}( \_\_type Fn , \_\_type Fs , \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} hnum )}
\DoxyCodeLine{138     \{}
\DoxyCodeLine{139         \textcolor{comment}{// system variables initialization:}}
\DoxyCodeLine{140         m\_Fn      = Fn;}
\DoxyCodeLine{141         m\_Fs      = Fs;}
\DoxyCodeLine{142         m\_Ts      = 1 / m\_Fs;}
\DoxyCodeLine{143         m\_Ns      = ceil(m\_Fs / m\_Fn);}
\DoxyCodeLine{144         m\_order   = m\_Ns;}
\DoxyCodeLine{145         m\_Gain    = ( hnum == 0 ) ? ( 1.0 / m\_Ns ) : ( 2.0 / m\_Ns );}
\DoxyCodeLine{146         m\_hnum    = hnum;}
\DoxyCodeLine{147         m\_Ks      = sin( \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * m\_hnum / m\_Ns );}
\DoxyCodeLine{148         m\_Kc      = cos( \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * m\_hnum / m\_Ns );}
\DoxyCodeLine{149 }
\DoxyCodeLine{150         \textcolor{comment}{// filter output initialization:}}
\DoxyCodeLine{151         m\_a0 = 0;}
\DoxyCodeLine{152         m\_a  = 0;}
\DoxyCodeLine{153         m\_b  = 0;}
\DoxyCodeLine{154         m\_Km = 0;}
\DoxyCodeLine{155         m\_pH = 0;}
\DoxyCodeLine{156     \}}
\DoxyCodeLine{157 }
\DoxyCodeLine{159     \mbox{\hyperlink{classrecursive__fourier_3_01____fx32_01_4_a2657bcc5a5903a81ea02e8b38cf2c9f9}{recursive\_fourier}}()}
\DoxyCodeLine{160     \{}
\DoxyCodeLine{161         \textcolor{comment}{// system variables initialization:}}
\DoxyCodeLine{162         m\_Fn       = 50;}
\DoxyCodeLine{163         m\_Fs       = 4000;}
\DoxyCodeLine{164         m\_Ts       = 1 / m\_Fs;}
\DoxyCodeLine{165         m\_Ns       = ceil(m\_Fs / m\_Fn);}
\DoxyCodeLine{166         m\_order    = m\_Ns;}
\DoxyCodeLine{167         m\_Gain     = 2.0 / m\_Ns;}
\DoxyCodeLine{168         m\_hnum     = 1;}
\DoxyCodeLine{169         m\_Ks       = sin( \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * m\_hnum / m\_Ns );}
\DoxyCodeLine{170         m\_Kc       = cos( \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * m\_hnum / m\_Ns );}
\DoxyCodeLine{171 }
\DoxyCodeLine{172         \textcolor{comment}{// filter output initialization:}}
\DoxyCodeLine{173         m\_a0 = 0;}
\DoxyCodeLine{174         m\_a  = 0;}
\DoxyCodeLine{175         m\_b  = 0;}
\DoxyCodeLine{176         m\_Km = 0;}
\DoxyCodeLine{177         m\_pH = 0;}
\DoxyCodeLine{178     \};}
\DoxyCodeLine{179 }
\DoxyCodeLine{186     \mbox{\hyperlink{classrecursive__fourier_3_01____fx32_01_4_a7aef4864cc61940f247f42bc97676e2b}{recursive\_fourier}}( \_\_type Fn , \_\_type Fs , \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} hnum ) \{ init( Fn , Fs , hnum ); \}}
\DoxyCodeLine{187 }
\DoxyCodeLine{189     \mbox{\hyperlink{classrecursive__fourier_3_01____fx32_01_4_afed7d8ec5f156eaeb29d767b097b1eea}{\string~recursive\_fourier}}()\{ deallocate(); \}}
\DoxyCodeLine{190 }
\DoxyCodeLine{195     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{classrecursive__fourier_3_01____fx32_01_4_a3920b42029d07cdbc4017c10e5623ceb}{filt}} ( \_\_type *input )}
\DoxyCodeLine{196     \{}
\DoxyCodeLine{197         m\_buffer\_sx.fill\_buff( input );}
\DoxyCodeLine{198         m\_a0 = m\_a + ( *input -\/ m\_buffer\_sx[ m\_order ] ) * m\_Gain;}
\DoxyCodeLine{199         m\_a  = m\_a0 * m\_Kc -\/ m\_b * m\_Ks;}
\DoxyCodeLine{200         m\_b  = m\_a0 * m\_Ks + m\_b * m\_Kc;}
\DoxyCodeLine{201     \}}
\DoxyCodeLine{202 }
\DoxyCodeLine{207     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{classrecursive__fourier_3_01____fx32_01_4_a2350072a8c11a3393f4d3732cf5e348f}{filt}} ( \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} *input )}
\DoxyCodeLine{208     \{}
\DoxyCodeLine{209         m\_buffer\_sx.fill\_buff( input );}
\DoxyCodeLine{210         m\_a0 = m\_a + ( *input -\/ m\_buffer\_sx[ m\_order ] ) * m\_Gain;}
\DoxyCodeLine{211         m\_a  = m\_a0 * m\_Kc -\/ m\_b * m\_Ks;}
\DoxyCodeLine{212         m\_b  = m\_a0 * m\_Ks + m\_b * m\_Kc;}
\DoxyCodeLine{213     \}}
\DoxyCodeLine{214 }
\DoxyCodeLine{219     \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} \mbox{\hyperlink{classrecursive__fourier_3_01____fx32_01_4_a7b03c6dc92748104cbd347042d32fa23}{FreqCharacteristics}}( \_\_type F )}
\DoxyCodeLine{220     \{}
\DoxyCodeLine{221         \textcolor{comment}{// complex frequency coeffs:}}
\DoxyCodeLine{222         \_\_type Re1 = 0 , Im1 = 0 , Re2 = 0 , Im2 = 0 , K = 1 / m\_Ns;}
\DoxyCodeLine{223 }
\DoxyCodeLine{224         \textcolor{comment}{// transfer function:}}
\DoxyCodeLine{225         Re1 = 1 -\/ cos( -\/\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * F * m\_Ns * m\_Ts );}
\DoxyCodeLine{226         Im1 = 0 -\/ sin( -\/\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * F * m\_Ns * m\_Ts );}
\DoxyCodeLine{227         Re2 = 1 -\/ ( cos(-\/\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * F * m\_Ts) * m\_Kc -\/ sin(-\/\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * F * m\_Ts) * m\_Ks );}
\DoxyCodeLine{228         Im2 = 0 -\/ ( cos(-\/\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * F * m\_Ts) * m\_Ks + sin(-\/\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * F * m\_Ts) * m\_Kc );}
\DoxyCodeLine{229 }
\DoxyCodeLine{230         \textcolor{comment}{// amplitude and phase response:}}
\DoxyCodeLine{231         \textcolor{keywordflow}{if}( F == m\_Fn * m\_hnum )}
\DoxyCodeLine{232         \{}
\DoxyCodeLine{233             m\_Km = 1;}
\DoxyCodeLine{234             m\_pH = 0;}
\DoxyCodeLine{235         \}}
\DoxyCodeLine{236         \textcolor{keywordflow}{else}}
\DoxyCodeLine{237         \{}
\DoxyCodeLine{238             m\_Km = sqrt( Re1 * Re1 + Im1 * Im1 ) / sqrt( Re2 * Re2 + Im2 * Im2 ) * K;}
\DoxyCodeLine{239             m\_pH = atan2( Im1 , Re1 ) -\/ atan2( Im2 , Re2 );}
\DoxyCodeLine{240         \}}
\DoxyCodeLine{241 }
\DoxyCodeLine{242         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{243     \}}
\DoxyCodeLine{244 }
\DoxyCodeLine{249     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} operator () ( \_\_type *input )\{ filt ( input ); \}}
\DoxyCodeLine{250 }
\DoxyCodeLine{255     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} operator () ( \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} *input )\{ filt ( input ); \}}
\DoxyCodeLine{256 \};}
\DoxyCodeLine{257 }
\DoxyCodeLine{259 \textcolor{keyword}{template}<> \textcolor{keyword}{class }\mbox{\hyperlink{classrecursive__fourier}{recursive\_fourier}}<\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}}>}
\DoxyCodeLine{260 \{}
\DoxyCodeLine{261     \textcolor{keyword}{typedef} \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}} \_\_type;}
\DoxyCodeLine{262 }
\DoxyCodeLine{263 \textcolor{keyword}{private}:}
\DoxyCodeLine{265     \_\_type m\_Fn;}
\DoxyCodeLine{267     \_\_type m\_Fs;}
\DoxyCodeLine{269     \_\_type m\_Ts;}
\DoxyCodeLine{271     \_\_type m\_Gain;}
\DoxyCodeLine{273     \_\_type m\_Ns;}
\DoxyCodeLine{275     \_\_type m\_hnum;}
\DoxyCodeLine{277     \_\_type m\_a0;}
\DoxyCodeLine{279     \_\_type m\_Ks;}
\DoxyCodeLine{281     \_\_type m\_Kc;}
\DoxyCodeLine{283     \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} m\_order;}
\DoxyCodeLine{284 }
\DoxyCodeLine{286     \mbox{\hyperlink{classmirror__ring__buffer}{mirror\_ring\_buffer<\_\_type>}} m\_buffer\_sx;}
\DoxyCodeLine{287 }
\DoxyCodeLine{288 \textcolor{keyword}{public}:}
\DoxyCodeLine{290    \_\_type \mbox{\hyperlink{classrecursive__fourier_3_01____fx64_01_4_ad089551e4975e16db508c291225a93c8}{m\_a}};}
\DoxyCodeLine{292    \_\_type \mbox{\hyperlink{classrecursive__fourier_3_01____fx64_01_4_ad0ce7ce7089110e5268ba8896f10c430}{m\_b}};}
\DoxyCodeLine{294    \_\_type \mbox{\hyperlink{classrecursive__fourier_3_01____fx64_01_4_aeafa22d9012b8f229edbf8efa9e2d89e}{m\_Km}};}
\DoxyCodeLine{296    \_\_type \mbox{\hyperlink{classrecursive__fourier_3_01____fx64_01_4_ad74b21b6399d9d1ba3d37cf98a1ab4b7}{m\_pH}};}
\DoxyCodeLine{297 }
\DoxyCodeLine{301     \textcolor{keywordtype}{int}  \mbox{\hyperlink{classrecursive__fourier_3_01____fx64_01_4_aefb416ac95c1d69d4dc715ca7795f0cd}{allocate}}() \{ \textcolor{keywordflow}{return} ( m\_buffer\_sx.allocate( m\_order + 2 ) ); \}}
\DoxyCodeLine{302 }
\DoxyCodeLine{306     \textcolor{keywordtype}{void} \mbox{\hyperlink{classrecursive__fourier_3_01____fx64_01_4_adedca460d47f99cac8e3b46a87afce45}{deallocate}}() \{ m\_buffer\_sx.deallocate(); \}}
\DoxyCodeLine{307 }
\DoxyCodeLine{314     \textcolor{keywordtype}{void} \mbox{\hyperlink{classrecursive__fourier_3_01____fx64_01_4_a77a3fd2d7242b04a2225e8d53921cdba}{init}}( \_\_type Fn , \_\_type Fs , \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} hnum )}
\DoxyCodeLine{315     \{}
\DoxyCodeLine{316         \textcolor{comment}{// system variables initialization:}}
\DoxyCodeLine{317         m\_Fn      = Fn;}
\DoxyCodeLine{318         m\_Fs      = Fs;}
\DoxyCodeLine{319         m\_Ts      = 1 / m\_Fs;}
\DoxyCodeLine{320         m\_Ns      = ceil(m\_Fs / m\_Fn);}
\DoxyCodeLine{321         m\_order   = m\_Ns;}
\DoxyCodeLine{322         m\_Gain    = ( hnum == 0 ) ? ( 1.0 / m\_Ns ) : ( 2.0 / m\_Ns );}
\DoxyCodeLine{323         m\_hnum    = hnum;}
\DoxyCodeLine{324         m\_Ks      = sin( \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * (\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}})m\_hnum / m\_Ns );}
\DoxyCodeLine{325         m\_Kc      = cos( \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * (\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}})m\_hnum / m\_Ns );}
\DoxyCodeLine{326 }
\DoxyCodeLine{327         \textcolor{comment}{// filter output initialization:}}
\DoxyCodeLine{328         m\_a0 = 0;}
\DoxyCodeLine{329         m\_a  = 0;}
\DoxyCodeLine{330         m\_b  = 0;}
\DoxyCodeLine{331         m\_Km = 0;}
\DoxyCodeLine{332         m\_pH = 0;}
\DoxyCodeLine{333     \}}
\DoxyCodeLine{334 }
\DoxyCodeLine{336     \mbox{\hyperlink{classrecursive__fourier_3_01____fx64_01_4_a06ccd1e06f4cffb21c034b0bb1b9ea82}{recursive\_fourier}}()}
\DoxyCodeLine{337     \{}
\DoxyCodeLine{338         \textcolor{comment}{// system variables initialization:}}
\DoxyCodeLine{339         m\_Fn       = 50;}
\DoxyCodeLine{340         m\_Fs       = 4000;}
\DoxyCodeLine{341         m\_Ts       = 1 / m\_Fs;}
\DoxyCodeLine{342         m\_Ns       = ceil(m\_Fs / m\_Fn);}
\DoxyCodeLine{343         m\_order    = m\_Ns;}
\DoxyCodeLine{344         m\_Gain     = 2.0 / m\_Ns;}
\DoxyCodeLine{345         m\_hnum     = 1;}
\DoxyCodeLine{346         m\_Ks       = sin( \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * (\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}})m\_hnum / m\_Ns );}
\DoxyCodeLine{347         m\_Kc       = cos( \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * (\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga55c00d61c4ad25c012a8fb3fa8a57cdb}{\_\_fx64}})m\_hnum / m\_Ns );}
\DoxyCodeLine{348 }
\DoxyCodeLine{349         \textcolor{comment}{// filter output initialization:}}
\DoxyCodeLine{350         m\_a0 = 0;}
\DoxyCodeLine{351         m\_a  = 0;}
\DoxyCodeLine{352         m\_b  = 0;}
\DoxyCodeLine{353         m\_Km = 0;}
\DoxyCodeLine{354         m\_pH = 0;}
\DoxyCodeLine{355     \};}
\DoxyCodeLine{356 }
\DoxyCodeLine{363     \mbox{\hyperlink{classrecursive__fourier_3_01____fx64_01_4_a02eddd5a1677d2f0157f4f2b30e32dfc}{recursive\_fourier}}( \_\_type Fn , \_\_type Fs , \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} hnum ) \{ init( Fn , Fs , hnum ); \}}
\DoxyCodeLine{364 }
\DoxyCodeLine{366     \mbox{\hyperlink{classrecursive__fourier_3_01____fx64_01_4_ad77c7784e22b855bd6dba67a3d8eb260}{\string~recursive\_fourier}}()\{ deallocate(); \}}
\DoxyCodeLine{367 }
\DoxyCodeLine{372     \mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga7d1671ef10aab0922515d7ed25120d0e}{\_\_ix32}} \mbox{\hyperlink{classrecursive__fourier_3_01____fx64_01_4_ace76ec91ee88e395df4f79388711dd55}{FreqCharacteristics}}( \_\_type F )}
\DoxyCodeLine{373     \{}
\DoxyCodeLine{374         \textcolor{comment}{// complex frequency coeffs:}}
\DoxyCodeLine{375         \_\_type Re1 = 0 , Im1 = 0 , Re2 = 0 , Im2 = 0 , K = 1 / m\_Ns;}
\DoxyCodeLine{376 }
\DoxyCodeLine{377         \textcolor{comment}{// transfer function:}}
\DoxyCodeLine{378         Re1 = 1 -\/ cos( -\/\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * F * m\_Ns * m\_Ts );}
\DoxyCodeLine{379         Im1 = 0 -\/ sin( -\/\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * F * m\_Ns * m\_Ts );}
\DoxyCodeLine{380         Re2 = 1 -\/ ( cos(-\/\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * F * m\_Ts) * m\_Kc -\/ sin(-\/\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * F * m\_Ts) * m\_Ks );}
\DoxyCodeLine{381         Im2 = 0 -\/ ( cos(-\/\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * F * m\_Ts) * m\_Ks + sin(-\/\mbox{\hyperlink{group___r_e_c_u_r_s_i_v_e___f_i_r_ga2750dfdda752269a036f487a4a34b849}{PI2}} * F * m\_Ts) * m\_Kc );}
\DoxyCodeLine{382 }
\DoxyCodeLine{383         \textcolor{comment}{// amplitude and phase response:}}
\DoxyCodeLine{384         \textcolor{keywordflow}{if}( F == m\_Fn * m\_hnum )}
\DoxyCodeLine{385         \{}
\DoxyCodeLine{386             m\_Km = 1;}
\DoxyCodeLine{387             m\_pH = 0;}
\DoxyCodeLine{388         \}}
\DoxyCodeLine{389         \textcolor{keywordflow}{else}}
\DoxyCodeLine{390         \{}
\DoxyCodeLine{391             m\_Km = sqrt( Re1 * Re1 + Im1 * Im1 ) / sqrt( Re2 * Re2 + Im2 * Im2 ) * K;}
\DoxyCodeLine{392             m\_pH = atan2( Im1 , Re1 ) -\/ atan2( Im2 , Re2 );}
\DoxyCodeLine{393         \}}
\DoxyCodeLine{394 }
\DoxyCodeLine{395         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{396     \}}
\DoxyCodeLine{397 }
\DoxyCodeLine{402     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{classrecursive__fourier_3_01____fx64_01_4_a801251b1d9d8cc2076554a1eeca21923}{filt}} ( \_\_type *input )}
\DoxyCodeLine{403     \{}
\DoxyCodeLine{404         m\_buffer\_sx.fill\_buff( input );}
\DoxyCodeLine{405         m\_a0 = m\_a + ( *input -\/ m\_buffer\_sx[ m\_order ] ) * m\_Gain;}
\DoxyCodeLine{406         m\_a  = m\_a0 * m\_Kc -\/ m\_b * m\_Ks;}
\DoxyCodeLine{407         m\_b  = m\_a0 * m\_Ks + m\_b * m\_Kc;}
\DoxyCodeLine{408     \}}
\DoxyCodeLine{409 }
\DoxyCodeLine{414     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} operator () ( \_\_type *input )\{ filt ( input ); \}}
\DoxyCodeLine{415 \};}
\DoxyCodeLine{416 }
\DoxyCodeLine{419 \textcolor{comment}{// customized data types exclusion to avoid aliases:}}
\DoxyCodeLine{420 \textcolor{preprocessor}{\#undef \_\_ix16}}
\DoxyCodeLine{421 \textcolor{preprocessor}{\#undef \_\_ix32}}
\DoxyCodeLine{422 \textcolor{preprocessor}{\#undef \_\_ix64}}
\DoxyCodeLine{423 \textcolor{preprocessor}{\#undef \_\_uix16}}
\DoxyCodeLine{424 \textcolor{preprocessor}{\#undef \_\_uix32}}
\DoxyCodeLine{425 \textcolor{preprocessor}{\#undef \_\_uix64}}
\DoxyCodeLine{426 \textcolor{preprocessor}{\#undef \_\_fx32}}
\DoxyCodeLine{427 \textcolor{preprocessor}{\#undef \_\_fx64}}
\DoxyCodeLine{428 }
\DoxyCodeLine{429 \textcolor{comment}{// customized math constants exclusion to avoid aliases:}}
\DoxyCodeLine{430 \textcolor{preprocessor}{\#undef PI0}}
\DoxyCodeLine{431 \textcolor{preprocessor}{\#undef PI2}}
\DoxyCodeLine{432 \textcolor{preprocessor}{\#undef PI\_2}}
\DoxyCodeLine{433 \textcolor{preprocessor}{\#undef PI\_4}}
\DoxyCodeLine{434 \textcolor{preprocessor}{\#undef inv\_PI0}}
\DoxyCodeLine{435 \textcolor{preprocessor}{\#undef inv\_PI2}}
\DoxyCodeLine{436 \textcolor{preprocessor}{\#undef inv\_PI\_2}}
\DoxyCodeLine{437 \textcolor{preprocessor}{\#undef inv\_PI\_4}}
\DoxyCodeLine{438 }
\DoxyCodeLine{439 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// RECURSIVE\_FOURIER\_H}}

\end{DoxyCode}
